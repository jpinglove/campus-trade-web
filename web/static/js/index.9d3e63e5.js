(function(e){function n(n){for(var i,r,s=n[0],u=n[1],c=n[2],l=0,f=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);d&&d(n);while(f.length)f.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],i=!0,s=1;s<t.length;s++){var u=t[s];0!==a[u]&&(i=!1)}i&&(o.splice(n--,1),e=r(r.s=t[0]))}return e}var i={},a={index:0},o=[];function r(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.e=function(e){var n=[],t=a[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise((function(n,i){t=a[e]=[n,i]}));n.push(t[2]=i);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+"static/js/"+({"pages-detail-detail~pages-edit-edit~pages-index-index~pages-my-my":"pages-detail-detail~pages-edit-edit~pages-index-index~pages-my-my","pages-detail-detail":"pages-detail-detail","pages-edit-edit":"pages-edit-edit","pages-index-index":"pages-index-index","pages-my-my":"pages-my-my","pages-favorites-favorites":"pages-favorites-favorites","pages-publications-publications":"pages-publications-publications","pages-publish-publish":"pages-publish-publish"}[e]||e)+"."+{"pages-detail-detail~pages-edit-edit~pages-index-index~pages-my-my":"fc9f8a1f","pages-detail-detail":"63ce0e2f","pages-edit-edit":"716104b5","pages-index-index":"bc1742c4","pages-my-my":"b9af1590","pages-favorites-favorites":"b8694fbd","pages-publications-publications":"482eeab2","pages-publish-publish":"cc104a2d"}[e]+".js"}(e);var u=new Error;o=function(n){s.onerror=s.onload=null,clearTimeout(c);var t=a[e];if(0!==t){if(t){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,t[1](u)}a[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(n)},r.m=e,r.c=i,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(t,i,function(n){return e[n]}.bind(null,i));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/",r.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var d=u;o.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("18c9")},"0ab1":function(e,n,t){"use strict";(function(e){var n=t("f5bd").default;t("473f"),t("bf0f"),t("de6c"),t("5c47"),t("a1c1");var i=n(t("9b8e")),a={keys:function(){return[]}};e["____G00FFD12____"]=!0,delete e["____G00FFD12____"],e.__uniConfig={globalStyle:{navigationBarTextStyle:"black",navigationBarTitleText:"校园二手",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8"},tabBar:{color:"#7A7E83",selectedColor:"#007AFF",borderStyle:"black",backgroundColor:"#ffffff",list:[{pagePath:"pages/index/index",iconPath:"static/home.png",selectedIconPath:"static/home_active.png",text:"首页",redDot:!1,badge:""},{pagePath:"pages/publish/publish",iconPath:"static/publish.png",selectedIconPath:"static/publish_active.png",text:"发布",redDot:!1,badge:""},{pagePath:"pages/my/my",iconPath:"static/my.png",selectedIconPath:"static/my_active.png",text:"我的",redDot:!1,badge:""}]}},e.__uniConfig.compilerVersion="4.76",e.__uniConfig.darkmode=!1,e.__uniConfig.themeConfig={},e.__uniConfig.uniPlatform="h5",e.__uniConfig.appId="__UNI__G00FFD12",e.__uniConfig.appName="CampusTrade",e.__uniConfig.appVersion="1.0.0",e.__uniConfig.appVersionCode="100",e.__uniConfig.router={mode:"hash",base:"/"},e.__uniConfig.publicPath="/",e.__uniConfig["async"]={loading:"AsyncLoading",error:"AsyncError",delay:200,timeout:6e4},e.__uniConfig.debug=!1,e.__uniConfig.networkTimeout={request:6e4,connectSocket:6e4,uploadFile:6e4,downloadFile:6e4},e.__uniConfig.sdkConfigs={},e.__uniConfig.qqMapKey=void 0,e.__uniConfig.googleMapKey=void 0,e.__uniConfig.aMapKey=void 0,e.__uniConfig.aMapSecurityJsCode=void 0,e.__uniConfig.aMapServiceHost=void 0,e.__uniConfig.locale="",e.__uniConfig.fallbackLocale=void 0,e.__uniConfig.locales=a.keys().reduce((function(e,n){var t=n.replace(/\.\/(uni-app.)?(.*).json/,"$2"),i=a(n);return Object.assign(e[t]||(e[t]={}),i.common||i),e}),{}),e.__uniConfig.nvue={"flex-direction":"column"},e.__uniConfig.__webpack_chunk_load__=t.e,i.default.component("pages-index-index",(function(e){var n={component:Promise.all([t.e("pages-detail-detail~pages-edit-edit~pages-index-index~pages-my-my"),t.e("pages-index-index")]).then(function(){return e(t("9a12"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),i.default.component("pages-detail-detail",(function(e){var n={component:Promise.all([t.e("pages-detail-detail~pages-edit-edit~pages-index-index~pages-my-my"),t.e("pages-detail-detail")]).then(function(){return e(t("07ed"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),i.default.component("pages-publish-publish",(function(e){var n={component:t.e("pages-publish-publish").then(function(){return e(t("dbc5"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),i.default.component("pages-my-my",(function(e){var n={component:Promise.all([t.e("pages-detail-detail~pages-edit-edit~pages-index-index~pages-my-my"),t.e("pages-my-my")]).then(function(){return e(t("6495"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),i.default.component("pages-favorites-favorites",(function(e){var n={component:t.e("pages-favorites-favorites").then(function(){return e(t("ab8a"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),i.default.component("pages-publications-publications",(function(e){var n={component:t.e("pages-publications-publications").then(function(){return e(t("17c9"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),i.default.component("pages-edit-edit",(function(e){var n={component:Promise.all([t.e("pages-detail-detail~pages-edit-edit~pages-index-index~pages-my-my"),t.e("pages-edit-edit")]).then(function(){return e(t("2a9b"))}.bind(null,t)).catch(t.oe),delay:__uniConfig["async"].delay,timeout:__uniConfig["async"].timeout};return __uniConfig["async"]["loading"]&&(n.loading={name:"SystemAsyncLoading",render:function(e){return e(__uniConfig["async"]["loading"])}}),__uniConfig["async"]["error"]&&(n.error={name:"SystemAsyncError",render:function(e){return e(__uniConfig["async"]["error"])}}),n})),e.__uniRoutes=[{path:"/",alias:"/pages/index/index",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isEntry:!0,isTabBar:!0,tabBarIndex:0},__uniConfig.globalStyle,{navigationBarTitleText:"校园二手市场",enablePullDownRefresh:!0})},[e("pages-index-index",{slot:"page"})])}},meta:{id:1,name:"pages-index-index",isNVue:!1,maxWidth:0,pagePath:"pages/index/index",isQuit:!0,isEntry:!0,isTabBar:!0,tabBarIndex:0,windowTop:44}},{path:"/pages/detail/detail",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"商品详情"})},[e("pages-detail-detail",{slot:"page"})])}},meta:{name:"pages-detail-detail",isNVue:!1,maxWidth:0,pagePath:"pages/detail/detail",windowTop:44}},{path:"/pages/publish/publish",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isTabBar:!0,tabBarIndex:1},__uniConfig.globalStyle,{navigationBarTitleText:"发布商品"})},[e("pages-publish-publish",{slot:"page"})])}},meta:{id:2,name:"pages-publish-publish",isNVue:!1,maxWidth:0,pagePath:"pages/publish/publish",isQuit:!0,isTabBar:!0,tabBarIndex:1,windowTop:44}},{path:"/pages/my/my",component:{render:function(e){return e("Page",{props:Object.assign({isQuit:!0,isTabBar:!0,tabBarIndex:2},__uniConfig.globalStyle,{navigationBarTitleText:"我的"})},[e("pages-my-my",{slot:"page"})])}},meta:{id:3,name:"pages-my-my",isNVue:!1,maxWidth:0,pagePath:"pages/my/my",isQuit:!0,isTabBar:!0,tabBarIndex:2,windowTop:44}},{path:"/pages/favorites/favorites",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"我的收藏"})},[e("pages-favorites-favorites",{slot:"page"})])}},meta:{name:"pages-favorites-favorites",isNVue:!1,maxWidth:0,pagePath:"pages/favorites/favorites",windowTop:44}},{path:"/pages/publications/publications",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"我的发布"})},[e("pages-publications-publications",{slot:"page"})])}},meta:{name:"pages-publications-publications",isNVue:!1,maxWidth:0,pagePath:"pages/publications/publications",windowTop:44}},{path:"/pages/edit/edit",component:{render:function(e){return e("Page",{props:Object.assign({},__uniConfig.globalStyle,{navigationBarTitleText:"编辑商品"})},[e("pages-edit-edit",{slot:"page"})])}},meta:{name:"pages-edit-edit",isNVue:!1,maxWidth:0,pagePath:"pages/edit/edit",windowTop:44}},{path:"/choose-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-choose-location",{slot:"page"})])}},meta:{name:"choose-location",pagePath:"/choose-location"}},{path:"/open-location",component:{render:function(e){return e("Page",{props:{navigationStyle:"custom"}},[e("system-open-location",{slot:"page"})])}},meta:{name:"open-location",pagePath:"/open-location"}}],e.UniApp&&new e.UniApp}).call(this,t("0ee4"))},1455:function(e,n,t){"use strict";t("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={onLaunch:function(){console.log("App Launch")},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};n.default=i},"18c9":function(e,n,t){"use strict";var i=t("f5bd").default,a=i(t("9b1b"));t("3dde"),t("a8b2"),t("1480"),t("6e4a"),t("0ab1"),t("9337");var o=i(t("c1e3")),r=i(t("9b8e")),s=i(t("9707")),u=i(t("38f0"));r.default.component("product-list",u.default),r.default.config.productionTip=!1,o.default.mpType="app";var c=new r.default((0,a.default)({store:s.default},o.default));c.$mount()},2002:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){}));var i=function(){var e=this.$createElement,n=this._self._c||e;return n("App",{attrs:{keepAliveInclude:this.keepAliveInclude}})},a=[]},"38f0":function(e,n,t){"use strict";t.r(n);var i=t("7b04"),a=t("df9f");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("b57c");var r=t("828b"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"0bab8edf",null,!1,i["a"],void 0);n["default"]=s.exports},"3f91":function(e,n,t){var i=t("c86c");n=i(!1),n.push([e.i,".container[data-v-0bab8edf]{padding:%?20?%}.product-item[data-v-0bab8edf]{display:flex;padding:%?20?%;margin-bottom:%?20?%;background:#fff;border-radius:%?10?%}.product-image[data-v-0bab8edf]{width:%?150?%;height:%?150?%;margin-right:%?20?%;border-radius:%?10?%}.product-info[data-v-0bab8edf]{flex:1;display:flex;flex-direction:column;justify-content:space-between}.bottom-info[data-v-0bab8edf]{display:flex;justify-content:space-between;align-items:center}.product-price[data-v-0bab8edf]{color:red;font-weight:700}.status-badge[data-v-0bab8edf]{padding:%?5?% %?15?%;border-radius:%?20?%;color:#fff;font-size:%?24?%}.selling[data-v-0bab8edf]{background-color:#28a745}.sold[data-v-0bab8edf]{background-color:#dc3545}.empty-container[data-v-0bab8edf]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:%?200?%;color:#999}.empty-image[data-v-0bab8edf]{width:%?200?%;height:%?200?%;margin-bottom:%?20?%}.main-content[data-v-0bab8edf]{flex:1;display:flex}\n/* 让主要内容占据大部分空间 */.edit-section[data-v-0bab8edf]{padding-left:%?20?%;border-left:1px solid #f0f0f0;margin-left:%?20?%}.edit-button[data-v-0bab8edf]{display:flex;align-items:center;justify-content:center;background-color:#007aff;color:#fff;padding:0 %?15?%}.edit-icon[data-v-0bab8edf]{width:%?32?%;height:%?32?%;margin-right:%?8?%}",""]),e.exports=n},"444e":function(e,n,t){"use strict";t.r(n);var i=t("1455"),a=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},"4bba":function(e,n,t){var i=t("c86c");n=i(!1),n.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*每个页面公共css */uni-page-body{background-color:#f8f8f8;font-size:16px}body.?%PAGE?%{background-color:#f8f8f8}.container{padding:%?20?%}",""]),e.exports=n},"4c36":function(e,n,t){var i=t("4bba");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=t("967d").default;a("6f365e80",i,!0,{sourceMap:!1,shadowMode:!1})},6959:function(e,n,t){"use strict";var i=t("4c36"),a=t.n(i);a.a},"7b04":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){}));var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"container"},[e.products.length>0?t("v-uni-view",e._l(e.products,(function(n){return t("v-uni-view",{key:n._id,staticClass:"product-item"},[t("v-uni-view",{staticClass:"main-content",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToDetail(n._id)}}},[t("v-uni-image",{staticClass:"product-image",attrs:{src:e.getProductImageUrl(n._id)}}),t("v-uni-view",{staticClass:"product-info"},[t("v-uni-text",{staticClass:"product-title"},[e._v(e._s(n.title))]),t("v-uni-view",{staticClass:"bottom-info"},[t("v-uni-text",{staticClass:"product-price"},[e._v("¥"+e._s(n.price))]),t("v-uni-text",{class:["status-badge","sold"===n.status?"sold":"selling"]},[e._v(e._s("sold"===n.status?"已售出":"售卖中"))])],1)],1)],1),e.showEditButton?t("v-uni-view",{staticClass:"edit-section"},[t("v-uni-button",{staticClass:"edit-button",attrs:{size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onEdit(n._id)}}},[t("v-uni-image",{staticClass:"edit-icon",attrs:{src:"/static/edit.png"}}),t("v-uni-text",[e._v("编辑")])],1)],1):e._e()],1)})),1):t("v-uni-view",{staticClass:"empty-container"},[t("v-uni-image",{staticClass:"empty-image",attrs:{src:"/static/empty.png"}}),t("v-uni-text",{staticClass:"empty-text"},[e._v("这里什么都没有哦~")])],1)],1)},a=[]},9064:function(e,n,t){"use strict";t("6a54");var i=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BASE_URL=void 0;var a=i(t("9b1b"));t("bf0f");var o=i(t("9707")),r="https://server-693-api.vercel.app/api";n.BASE_URL=r;var s=function(e){return new Promise((function(n,t){uni.request({url:r+e.url,method:e.method||"GET",data:e.data||{},header:(0,a.default)((0,a.default)({},e.header),{},{Authorization:"Bearer ".concat(o.default.state.token)}),success:function(e){200===e.statusCode||201===e.statusCode?n(e.data):(uni.showToast({title:"请求失败",icon:"none"}),t(e))},fail:function(e){uni.showToast({title:"网络错误",icon:"none"}),t(e)}})}))};n.default=s},9707:function(e,n,t){"use strict";t("6a54");var i=t("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(t("9b8e")),o=i(t("8f59"));a.default.use(o.default);var r=new o.default.Store({state:{token:uni.getStorageSync("token")||"",userInfo:uni.getStorageSync("userInfo")||{},homeNeedsRefresh:!1},mutations:{LOGIN:function(e,n){e.token=n.token,e.userInfo=n.userInfo,uni.setStorageSync("token",n.token),uni.setStorageSync("userInfo",n.userInfo)},LOGOUT:function(e){e.token="",e.userInfo={},uni.removeStorageSync("token"),uni.removeStorageSync("userInfo")},SET_HOME_NEEDS_REFRESH:function(e,n){e.homeNeedsRefresh=n}},actions:{logout:function(e){var n=e.commit;n("LOGOUT")}}}),s=r;n.default=s},a112:function(e,n,t){var i=t("3f91");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=t("967d").default;a("677baf62",i,!0,{sourceMap:!1,shadowMode:!1})},b57c:function(e,n,t){"use strict";var i=t("a112"),a=t.n(i);a.a},c1e3:function(e,n,t){"use strict";t.r(n);var i=t("2002"),a=t("444e");for(var o in a)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("6959");var r=t("828b"),s=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=s.exports},df9f:function(e,n,t){"use strict";t.r(n);var i=t("f954"),a=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},f954:function(e,n,t){"use strict";t("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,t("c223");var i=t("9064"),a={props:{products:{type:Array,default:function(){return[]}},showEditButton:{type:Boolean,default:!1}},methods:{getProductImageUrl:function(e){return"".concat(i.BASE_URL,"/products/").concat(e,"/image?t=").concat((new Date).getTime())},goToDetail:function(e){uni.navigateTo({url:"/pages/detail/detail?id=".concat(e)})},onEdit:function(e){this.$emit("edit",e)}}};n.default=a}});